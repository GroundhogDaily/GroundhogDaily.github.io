<!DOCTYPE html>
<html>
        <head>
        <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,initial-scale=1,user-scalable=no" />
        <meta charset="utf-8">
        <title>redis | 笔记</title>
        <link rel="stylesheet" href="https://GroundhogDaily.github.io/styles/main.css">
        <link rel="stylesheet" href="https://at.alicdn.com/t/font_1423691_1fcfxbwa79n.css">
        <link href="https://cdn.bootcss.com/animate.css/3.7.2/animate.min.css" rel="stylesheet">
         <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
        <script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
         <script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
         <script >hljs.initHighlightingOnLoad();</script>

    </head>
    <body>
              <header class="header mdui-m-b-5">      
            <div class="container  ">
                <div class="index-title animated fadeInDown mdui-text-center mdui-text-color-white mdui-m-b-2" style="animation-delay: 0.2s"><a href="https://GroundhogDaily.github.io">笔记</a></div>
                <div class="mdui-text-color-white animated fadeInDown mdui-text-center  mdui-m-b-3" style="animation-delay: 0.4s">没有伞的孩子要努力奔跑</div>
           
            <nav id="nav" class="mdui-text-center animated fadeInDown" style="animation-delay: 0.6s">
                   
                            <li><a href="/">首页</a>
                                <span class="nav-style top"></span>
                                <span class="nav-style bottom"></span>
                                <span class="nav-style left"></span>
                                <span class="nav-style right"></span>
                                </li>
                    
                            <li><a href="/archives">归档</a>
                                <span class="nav-style top"></span>
                                <span class="nav-style bottom"></span>
                                <span class="nav-style left"></span>
                                <span class="nav-style right"></span>
                                </li>
                    
                            <li><a href="/tags">标签</a>
                                <span class="nav-style top"></span>
                                <span class="nav-style bottom"></span>
                                <span class="nav-style left"></span>
                                <span class="nav-style right"></span>
                                </li>
                    
                            <li><a href="/post/about">关于</a>
                                <span class="nav-style top"></span>
                                <span class="nav-style bottom"></span>
                                <span class="nav-style left"></span>
                                <span class="nav-style right"></span>
                                </li>
                    
                  </nav>
                </div>
        </header>
        <div class="mdui-container ">
                <div class="mdui-row">
                        <div class="mdui-col-md-8 mdui-col-offset-md-2 ">
                                <article class="mdui-p-a-2 post animated fadeIn" style="animation-delay: 0.8s;animation-duration: 2s">
                                    <div class="post-title  mdui-m-b-1">redis</div>
                                    <div class="mdui-typo-body-2 mdui-m-b-2" datetime="2020-08-07 15:04:03">2020-08-07 / 7 min read</div>
                                    <div class="mdui-m-b-2 mdui-typo post-neirong"><h3 id="redis入门">redis入门</h3>
<h4 id="数据结构">数据结构</h4>
<ul>
<li>
<p><strong>字符串类型</strong></p>
<pre><code>set key value
get key
incr key 当字符串是数字时递增，不是整数则报错
incrby key increment 增加指定的整数，不是整数则报错
decr key 递减，不是整数则报错
decrby key increment 减少指定的整数，不是整数则报错
incrbyfloat key increment 增加指定的双精度浮点数
append key value 值末尾追加value,键不存在则将键的值设为value，返回追加后的字符串长度
strlen key 返回值的长度
mget key [key...]获取多个值
mset key value[key value ...]设置多个键值
另外还有其他对位操作的命令
</code></pre>
</li>
<li>
<p><strong>散列类型(hash)</strong></p>
<figure data-type="image" tabindex="1"><img src="https://raw.githubusercontent.com/GroundhogDaily/PicGo/master/image-20200807102214699.png" alt="image-20200807102214699" loading="lazy"></figure>
<pre><code>hset key field value 字段不存在时返回1(插入)，存在返回0(更新)
hget key field 
hmset key field value [field value...]
hmget key field [field...]
hgetall key
hexists key field 判断字段是否存在，存在返回1，不存在返回0
hsetnx key field value 不存在则赋值
hincrby key field increment 增加指定的值，散列类型没有hincr命令
hdel key field [field...] 删除指定的字段，返回删除的个数
hkeys key 获取字段名
hvals key 获取字段值
hlen key 获取字段数量
</code></pre>
</li>
<li>
<p><strong>列表类型(list)</strong></p>
<p><code>列表类型（list）可以存储一个有序的字符串列表，常用的操作是向列表两端添加元素， 或者获得列表的某一个片段。列表类型内部采用双向链表（double linked list）实现。</code></p>
<pre><code>lpush key value1[value2...] 向列表左边增加元素，返回增加元素后列表的长度。先添加		value1,顺序添加
rpush key value[value...]
lpop key
rpop key
hlen key 键不存在返回0，时间复杂度为O(1)
lrange key start stop 返回索引从start到stop的元素，包含两端，起始为0.不删除元素。
    例：LRANGE key -2 -1 支持负索引，&quot;−1&quot;表示最右边第一个元素，&quot;-2&quot;表示最右边第二个
    元素，依次类推
    例：LRANGE key 0 -1  返回全部元素，
lren key count value 会删除列表中前count个值为value的元素，返回值是实际删除的元素个数。
    （1）当 count &gt; 0时 LREM 命令会从列表左边开始删除前 count 个值为 value的元素。
    （2）当 count &lt; 0时 LREM 命令会从列表右边开始删除前|count|个值为 value 的元素。
    （3）当 count = 0是 LREM命令会删除所有值为 value的元素。
lindex key index 获得指定索引的元素值
lset key index 设置指定索引的元素值
ltrim key start end 删除指定索引范围之外的所有元素
linsert key before/after pivot value 会在列表中从左到右查找值为 pivot 的元素，然
	后根据第二个参数是BEFORE还是AFTER来决定将value插入到该元素的前面还是后面
rpoplpush source destination 将元素从一个列表转到另一个列表,：先执行RPOP命令再执行
	LPUSH命令。RPOPLPUSH命令会先从source列表类型键的右边弹出一个元素，然后将其加入到
	destination列表类型键的左边，并返回这个元素的值，整个过程是原子的。
</code></pre>
</li>
<li>
<p><strong>集合类型(set)</strong></p>
<p><code>在集合中的每个元素都是不同的，且没有顺序。一个集合类型（set）键可以存储至多232−1个字符串。</code></p>
<figure data-type="image" tabindex="2"><img src="https://raw.githubusercontent.com/GroundhogDaily/PicGo/master/image-20200807112342858.png" alt="image-20200807112342858" loading="lazy"></figure>
<pre><code>sadd key member [member...] 返回加入的元素个数，已存在的元素不添加
srem key member [member...] 删除，返回删除的个数
smembers key 返回集合中所有的元素
sismember key member 判断元素是否在集合中，存在返回1，不存在返回0，个时间复杂度为O(1)
sdiff key1 [key...] 差集，返回所有属于key1,不属于其他key的元素
sinter key [key] 交集，返回每个key都包含的元素，不重复
sunion key [key] 并集，返回所有key的元素，不重复
scard key 获取集合中元素个数
sdiffstore destination key1 [key...] SDIFFSTORE命令和SDIFF命令功能一样，唯一的
	区别就是前者不会直接返回运算结果，而是将结果存储在destination键中。
sinterstore destination key [key] 
sunionstore destination key [key]
srandmember key [count] 随机获取一个或多个元素
    （1）当count为正数时，SRANDMEMBER会随机从集合里获得count个不重复的元素。如果		count的值大于集合中的元素个数，则SRANDMEMBER会返回集合中的全部元素。
    （2）当count为负数时，SRANDMEMBER会随机从集合里获得|count|个的元素，这些元素有可
    能相同
spop key 从集合中随机弹出一个元素
</code></pre>
</li>
<li>
<p><strong>有序集合类型(sorted set)</strong></p>
<p><code>在集合类型的基础上有序集合类型为集合中的每个元素都关联了一个分数，这使得我们 不仅可以完成插入、删除和判断元素是否存在等集合类型支持的操作，还能够获得分数最高 （或最低）的前N个元素、获得指定分数范围内的元素等与分数有关的操作。虽然集合中每 个元素都是不同的，但是它们的分数却可以相同。</code></p>
<pre><code>zadd key score member [score member]如果该元素已经存在则会用新的分数替换原有的分数
zrange key start stop [withscore] 按照元素分数从小到大的顺序返回索引从 start到
	stop之间的所有元素（包含两端的元素）,ZRANGE命令与LRANGE命令十分相似，如索引都是从
    0开始，负数代表从后向前查找（−1表示最后一个元素）。如果需要同时获得元素的分数的话可
    以在 ZRANGE命令的尾部加上 WITHSCORES 参数,的时间复杂度为O(log n+m)
zrangebyscore key min max[withscores] [limit offset count]该命令按照元素分数
	从小到大的顺序返回分数在min和max之间（包含min和max）的元素,如果希望分数范围不包含
    端点值，可以在分数前加上“(”符号。min和max还支持无穷大，同ZADD命令一样，-inf和
    +inf分别表示负无穷和正无穷。在本命令中 LIMIT offset count与 SQL 中的用法基本相
    同，即在获得的元素列表的基础上向后偏移offset个元素，并且只获取前count个元素。
zincrby key increment member 增加某个元素的分数，返回更改后的分数
zcard key 获得集合中元素的数量
zcount key min max 获得指定分数范围内的元素个数
zrem key member [member] 删除一个或多个元素，返回成功删除的元素数量
zremrangebyrank key start stop 按照元素分数从小到大的顺序，删除指定排名范围内的元
	素，返回删除的元素数量
zremrangebyscore key min max 删除指定分数范围内的元素，并返回删除的元素数量
zrank key member 按照元素分数从小到大的顺序获得指定的元素member的排名
zrevrank key member 按照元素分数从大到小的顺序获得指定的元素member的排名
</code></pre>
</li>
</ul>
</div>
                                    <div class="mdui-divider mdui-m-b-2"></div>
                                    <div class="mdui-row-xs-2 post-fenye">
                                       
                                        <div class="mdui-col"> </div>
                                        

                                        
                                        <div class="mdui-col"><div class="mdui-text-right "><a href="https://GroundhogDaily.github.io/post/java-bing-fa-zhong-ji-zhu-ti/">Java并发中级主题</a></div> </div>
                                       
                                      </div>
                                   
                                    <div class="mdui-divider mdui-m-t-2 mdui-m-b-2"></div>
                                    
                                     <script src="https://GroundhogDaily.github.io/media/scripts/Valine.min.js"></script>
 <div class="comment"></div>

<script>
      new Valine({
            el: '.comment',



            path: window.location.pathname,
            pageSize: 30,
            avatar:'mm', 
       })
    </script> 
<script>
    if(window.location.hash){
        var checkExist = setInterval(function() {
           if ($(window.location.hash).length) {
              $('html, body').animate({scrollTop: $(window.location.hash).offset().top-90}, 1000);
              clearInterval(checkExist);
           }
        }, 100);
    }
</script>
                                </article>

                                    
                        </div>
                      </div>
    
                

              </div>
                    <footer class="footer mdui-m-t-5 mdui-text-center">
               <nav class="social-links">
                      <ul>
                      
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      
                           
                      </ul>
                    </nav>
                  <div class="copyright">
                      <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> <br/> Theme <a href="https://github.com/alterfang/gridea-theme-song/">宋</a> by <a href="https://shanbu.fun/">山卜方</a> </p>
                  </div>
                  
              </footer>
    </body>
</html>